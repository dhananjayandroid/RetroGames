<!DOCTYPE html><html><head><title>Tetris</title><style>body{display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background:#1a1a1a}canvas{border:2px solid #00ff00;background:#000}</style></head><body><canvas id="c" width="200" height="400"></canvas><script>const c=document.getElementById('c');const ctx=c.getContext('2d');const rows=20;const cols=10;const grid=Array(rows).fill(0).map(()=>Array(cols).fill(0));const pieces=[[1,1,1,1],[1,1,1,0],[1,1,0,1],[1,0,1,1],[1,1,0,0],[0,1,1,0],[1,0,0,1]];let current={x:4,y:0,type:Math.floor(Math.random()*7)};let score=0;function draw(){ctx.fillStyle='#000';ctx.fillRect(0,0,c.width,c.height);grid.forEach((row,i)=>{row.forEach((cell,j)=>{if(cell){ctx.fillStyle='#00ff00';ctx.fillRect(j*20,i*20,19,19)}})});ctx.fillStyle='#ff00ff';pieces[current.type].forEach((v,i)=>{if(v){ctx.fillRect((current.x+i%2)*20,current.y+Math.floor(i/2)*20,19,19)}});ctx.fillStyle='#fff';ctx.font='16px Arial';ctx.fillText('Score:'+score,10,30)}function canMove(x,y){for(let i=0;i<4;i++){if(pieces[current.type][i]){const nx=x+i%2;const ny=y+Math.floor(i/2);if(nx<0||nx>=cols||ny>=rows||grid[ny][nx])return false}}return true}function update(){if(!canMove(current.x,current.y+1)){pieces[current.type].forEach((v,i)=>{if(v){grid[current.y+Math.floor(i/2)][current.x+i%2]=1}});current={x:4,y:0,type:Math.floor(Math.random()*7)};if(!canMove(current.x,current.y)){if(window.Android)window.Android.gameOver(score);alert('Game Over! Score:'+score)}}else{current.y++}draw()}document.addEventListener('keydown',(e)=>{if(e.key==='ArrowLeft'&&canMove(current.x-1,current.y))current.x--;else if(e.key==='ArrowRight'&&canMove(current.x+1,current.y))current.x++});window.revive=()=>location.reload();setInterval(update,500);draw()</script></body></html>
