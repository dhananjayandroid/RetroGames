<!DOCTYPE html><html><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>Pacman</title><style>*{margin:0;padding:0}body{background:#000;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;font-family:Arial}canvas{border:2px solid #ffff00;background:#000;margin-bottom:20px}#controls{display:flex;gap:20px;flex-wrap:wrap;justify-content:center}button{padding:15px 25px;background:#ffff00;color:#000;border:none;cursor:pointer;font-weight:bold;border-radius:5px}</style></head><body><canvas id='c' width='320' height='320'></canvas><div id='controls'><button id='u'>UP</button><button id='d'>DOWN</button><button id='l'>LEFT</button><button id='r'>RIGHT</button></div><script>const c=document.getElementById('c');const ctx=c.getContext('2d');const grid=20;let pacman={x:8,y:8,dir:{x:0,y:0}};let ghosts=[{x:5,y:5},{x:10,y:5},{x:5,y:10},{x:10,y:10}];let pellets=[];let score=0;for(let i=0;i<16;i++)for(let j=0;j<16;j++)if((i+j)%3!==0)pellets.push({x:i,y:j});function draw(){ctx.fillStyle='#000';ctx.fillRect(0,0,320,320);ctx.fillStyle='#ffff00';ctx.beginPath();ctx.arc(pacman.x*20+10,pacman.y*20+10,8,0,Math.PI*2);ctx.fill();ctx.fillStyle='#ff0000';ghosts.forEach(g=>{ctx.fillRect(g.x*20,g.y*20,20,20)});ctx.fillStyle='#fff';pellets.forEach(p=>{ctx.fillRect(p.x*20+8,p.y*20+8,4,4)});ctx.fillStyle='#fff';ctx.font='16px Arial';ctx.fillText('Score:'+score,10,335)}function update(){pacman.x+=pacman.dir.x;pacman.y+=pacman.dir.y;if(pacman.x<0)pacman.x=15;if(pacman.x>15)pacman.x=0;if(pacman.y<0)pacman.y=15;if(pacman.y>15)pacman.y=0;for(let i=0;i<pellets.length;i++){if(pellets[i].x===pacman.x&&pellets[i].y===pacman.y){pellets.splice(i,1);score+=10}}ghosts.forEach(g=>{g.x+=Math.random()>0.5?1:-1;if(g.x<0)g.x=0;if(g.x>15)g.x=15;g.y+=Math.random()>0.5?1:-1;if(g.y<0)g.y=0;if(g.y>15)g.y=15;if(g.x===pacman.x&&g.y===pacman.y){if(window.Android)window.Android.gameOver(score);alert('Game Over! Score:'+score)}});if(pellets.length===0){pellets=[];for(let i=0;i<16;i++)for(let j=0;j<16;j++)if((i+j)%2!==0)pellets.push({x:i,y:j})}draw()}document.getElementById('u').addEventListener('touchstart',()=>{pacman.dir={x:0,y:-1}});document.getElementById('d').addEventListener('touchstart',()=>{pacman.dir={x:0,y:1}});document.getElementById('l').addEventListener('touchstart',()=>{pacman.dir={x:-1,y:0}});document.getElementById('r').addEventListener('touchstart',()=>{pacman.dir={x:1,y:0}});window.revive=()=>location.reload();setInterval(update,200);draw()</script></body></html>
